<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Data Button</title>
  </head>
  <body>
    <button id="addDataBtn">Add Data</button>

    <script type="module">
      // Import Firebase libraries
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDAsGSaps-o0KwXTF-5q3Z99knmyXPmSfU",
        authDomain: "smartgarbagebin-8c3ec.firebaseapp.com",
        databaseURL:
          "https://smartgarbagebin-8c3ec-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "smartgarbagebin-8c3ec",
        storageBucket: "smartgarbagebin-8c3ec.appspot.com",
        messagingSenderId: "1062286948871",
        appId: "1:1062286948871:web:d62f6f620e010f8f22c8a2",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Function to add data
      function addData(garbageBinControlNumber) {
        const data = {
          GB1FillLevel: {
            GB1: 10,
            GB1Flag: "false",
            GB1QuotaCount: 1,
            GB1QuotaFlag: false,
            GB1Status: "Not Connected",
          },
          GB2FillLevel: {
            GB2: 10,
            GB2Flag: "false",
            GB2QuotaCount: 1,
            GB2QuotaFlag: false,
            GB2Status: "Not Connected",
          },
          GB3FillLevel: {
            GB3: 10,
            GB3Flag: "false",
            GB3QuotaCount: 1,
            GB3QuotaFlag: false,
            GB3Status: "Not Connected",
          },
          GB4FillLevel: {
            GB4: 10,
            GB4Flag: "false",
            GB4QuotaCount: 1,
            GB4QuotaFlag: false,
            GB4Status: "Not Connected",
          },
        };

        // Reference to the database location
        const binRef = ref(
          db,
          `GarbageBinControlNumber/${garbageBinControlNumber}/FillLevel`
        );

        // Push data to database
        set(binRef, data)
          .then(() => {
            console.log(
              `Data added successfully for ${garbageBinControlNumber}!`
            );
          })
          .catch((error) => {
            console.error(
              `Error adding data for ${garbageBinControlNumber}: `,
              error
            );
          });
      }

      // Add event listener to the button
      document.getElementById("").addEventListener("click", () => {
        for (let i = 7; i <= 50; i++) {
          const binControlNumber = "GCN" + String(i).padStart(3, "0");
          addData(binControlNumber); // Add data for each bin from GCN007 to GCN050
        }
      });
    </script>
  </body>
</html>
